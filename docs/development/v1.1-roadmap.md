# NiBot v1.1 Roadmap

v1.0.0 delivered the full feature set: 4 channels, 23 tools, pipeline orchestration, self-evolution, MCP bridge, and Docker deployment. v1.1 focuses on real-time capabilities and channel expansion.

## Prioritized Features

### P1 -- High Value, Low Effort

| Feature | Rationale | Effort |
|---------|-----------|--------|
| **Streaming responses** | `LiteLLMProvider` already has `chat_stream()` stub. Connect it through `AgentLoop` -> `MessageBus` -> channel `send_chunk()`. Users see responses token by token instead of waiting for full generation. | ~200 lines |
| **Discord channel** | `BaseChannel` abstraction is solid (3 methods: start/stop/send). Discord.py is mature. Large developer community would benefit. | ~150 lines |
| **Slack channel** | Same as Discord -- `BaseChannel` makes this straightforward. Slack Bolt SDK handles auth/events. Enterprise demand. | ~150 lines |

### P2 -- Worth Doing, Medium Effort

| Feature | Rationale | Effort |
|---------|-----------|--------|
| **DingTalk channel** | Another `BaseChannel` implementation. Completes Chinese IM coverage (Feishu + WeCom + DingTalk). | ~150 lines |
| **RAG / vector memory** | Current `MemoryStore` is key-value. For large knowledge bases, vector similarity search would help. But needs proof that current approach is insufficient first. Consider `chromadb` (local, zero-infra). | ~300 lines |
| **Conversation branching** | Allow users to "fork" a conversation from any point. Useful for exploring alternatives. SessionManager needs tree structure instead of linear list. | ~250 lines |

### P3 -- Nice to Have

| Feature | Rationale | Effort |
|---------|-----------|--------|
| **OpenTelemetry** | `loguru` + `metrics.py` + `/health` covers 90% of observability needs. OTEL adds distributed tracing but NiBot is single-process. Only justified if deployed as part of a larger system. | ~200 lines |
| **Voice input/output** | Whisper for STT, TTS for output. Interesting but niche -- most users interact via text. | ~300 lines |

### Skip -- Not Worth Doing

| Feature | Why Skip |
|---------|----------|
| Plugin architecture overhaul | `Tool` ABC + `ToolRegistry` is already flexible. MCP bridge extends it to external tools. Adding another abstraction layer is complexity for its own sake. |
| Multi-language system messages | Change `IDENTITY.md` in the workspace. This is a config problem, not a code problem. |
| Database backend for sessions | JSONL works. Thousands of sessions on SSD are millisecond reads. A database adds operational complexity (migrations, backups, connection pooling) for zero user benefit at current scale. |
| GraphQL API | REST endpoints in `web/routes.py` + `webhook_server.py` cover all use cases. GraphQL adds schema complexity for a system with <20 API endpoints. |

## Implementation Approach

Same iterative model as v0.6.0-v1.0.0:

1. Each feature gets a plan-mode design review
2. Implementation with tests
3. Codex code review
4. Full test suite verification
5. Commit

Streaming responses should be first -- it's the highest-impact user experience improvement with the lowest risk (provider layer already supports it).

## Non-Goals for v1.1

- No breaking changes to config schema
- No new mandatory dependencies
- No changes to JSONL persistence format
- No multi-process/distributed architecture
